[{"title":"springboot-schedualing task","date":"2018-02-14T11:59:41.000Z","path":"2018/02/14/springboot-schedualing-task/","text":"定时任务 spring boot + mybatis + postgresql源码下载 pom.xml&lt;parent&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt; &lt;version&gt;1.5.10.RELEASE&lt;/version&gt; &lt;relativePath /&gt; &lt;/parent&gt; &lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt; &lt;/dependency&gt; &lt;!-- Spring-Mybatis --&gt; &lt;dependency&gt; &lt;groupId&gt;org.mybatis.spring.boot&lt;/groupId&gt; &lt;artifactId&gt;mybatis-spring-boot-starter&lt;/artifactId&gt; &lt;version&gt;1.3.0&lt;/version&gt; &lt;/dependency&gt; &lt;!-- postgresql --&gt; &lt;dependency&gt; &lt;groupId&gt;org.postgresql&lt;/groupId&gt; &lt;artifactId&gt;postgresql&lt;/artifactId&gt; &lt;/dependency&gt; &lt;/dependencies&gt; 开启定时任务开启注解@SpringBootApplication @EnableScheduling public class SchedulingtaskApplication { public static void main(String[] args) { SpringApplication.run(SchedulingtaskApplication.class, args); } } 定时任务实现类package com.example; import org.slf4j.Logger; import org.slf4j.LoggerFactory; import org.springframework.beans.factory.annotation.Autowired; import org.springframework.scheduling.annotation.Scheduled; import org.springframework.stereotype.Component; import com.example.mapper.TestMapper; @Component public class SchedualingTask { private static final Logger log = LoggerFactory.getLogger(SchedualingTask.class); @Autowired private TestMapper testMapper; @Scheduled(fixedRate = 5000) public void usersCount() { log.info(&quot;用户数量：&quot;+testMapper.userCount()); } } 加入MyBatis数据库连接配置application.properties spring.datasource.url=jdbc:postgresql://127.0.0.1:5432/test spring.datasource.username=postgres spring.datasource.password=xxxxxx spring.datasource.driverClassName=org.postgresql.Driver mybatis.mapper-locations=classpath*:mapper/*Mapper.xml MyBatisConfigpackage com.example; import org.mybatis.spring.annotation.MapperScan; import org.springframework.context.annotation.Configuration; @Configuration @MapperScan(&quot;com.example.mapper&quot;) public class MyBatisConfig { } TestMapperpackage com.example.mapper; public interface TestMapper { public int userCount(); } testMapper.xml&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt; &lt;!DOCTYPE mapper PUBLIC &quot;-//mybatis.org//DTD Mapper 3.0//EN&quot; &quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;&gt; &lt;mapper namespace=&quot;com.example.mapper.TestMapper&quot;&gt; &lt;select id=&quot;userCount&quot; resultType=&quot;int&quot;&gt; select count(1) from t_user &lt;/select&gt; &lt;/mapper&gt;","tags":[{"name":"Spring Boot","slug":"Spring-Boot","permalink":"https://zbenq.github.io/tags/Spring-Boot/"}]},{"title":"maven配置","date":"2018-02-13T06:10:28.000Z","path":"2018/02/13/maven配置/","text":"本地仓库&lt;localRepository&gt;/path/to/local/repo&lt;/localRepository&gt; 中央仓库&lt;mirror&gt; &lt;id&gt;nexus-aliyun&lt;/id&gt; &lt;mirrorOf&gt;central&lt;/mirrorOf&gt; &lt;name&gt;Nexus aliyun&lt;/name&gt; &lt;url&gt;http://maven.aliyun.com/nexus/content/groups/public&lt;/url&gt; &lt;/mirror&gt;","tags":[{"name":"maven","slug":"maven","permalink":"https://zbenq.github.io/tags/maven/"}]}]